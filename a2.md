Bem simples. No design que te propus, **não precisa recompilar**: basta criar um **template** e (opcional) um **alias** no config.

## Passo-a-passo (Linux/macOS/Windows)

### 1) Crie o template da nova linguagem

Coloque um arquivo `NOME.tmpl` na pasta de templates do usuário:

* Linux: `~/.local/share/hw/templates/`
* macOS: `~/Library/Application Support/hw/templates/`
* Windows: `%APPDATA%\hw\templates\`

Exemplos (Linux):

```bash
mkdir -p ~/.local/share/hw/templates
nano ~/.local/share/hw/templates/zig.tmpl
```

Conteúdo (ex.: Zig):

```zig
const std = @import("std");
pub fn main() void {
    std.debug.print("Hello, World!\n", .{});
}
```

Mais exemplos prontos que você pode copiar para `*.tmpl`:

* **Go** (`go.tmpl`)

  ```go
  package main
  import "fmt"
  func main() { fmt.Println("Hello, World!") }
  ```
* **Haskell** (`hs.tmpl`)

  ```haskell
  main :: IO ()
  main = putStrLn "Hello, World!"
  ```
* **Java** (`java.tmpl`)

  ```java
  public class Main {
      public static void main(String[] args) {
          System.out.println("Hello, World!");
      }
  }
  ```

> Dica: o nome do arquivo (ex.: `zig.tmpl`) é o **nome da linguagem** que você passará em `--lang zig`.

### 2) (Opcional) Adicione um alias no config

Se quiser um atalho tipo `--zig` ou `-z`, edite seu `config.toml`:

* Linux: `~/.config/hw/config.toml`
* macOS: `~/Library/Application Support/hw/config.toml`
* Windows: `%APPDATA%\hw\config.toml`

```toml
# exemplo
[aliases]
z = "zig"     # habilita -z
zig = "zig"   # habilita --zig
```

> Você também pode ajustar `default_lang = "zig"` se quiser que `hw` (sem flags) gere Zig.

### 3) Use!

* Listar linguagens disponíveis (templates do usuário + embutidos):

  ```bash
  hw --list
  ```
* Usar por nome:

  ```bash
  hw --lang zig
  ```
* Usar por alias:

  ```bash
  hw -z
  hw --zig
  ```
* Salvar em arquivo:

  ```bash
  hw --lang zig --out main.zig
  ```

## Como funciona a resolução

1. `--lang X` (se você passar)
2. Alias usado (`-z`, `--zig`, etc.) → mapeia para o nome real no `[aliases]`
3. `default_lang` do `config.toml`
4. Fallback: templates embutidos (C, C++, Rust, Python)

## Dúvidas comuns

* **Posso chamar o template de outro nome?** Sim, o nome do arquivo `.tmpl` é o que você usará em `--lang`.
* **Precisa ser `.tmpl`?** O protótipo aceita `.tmpl` ou `.txt`.
* **Quero embutir definitivamente (sem arquivo externo).** Aí edite o dicionário `EMBEDDED` no script e adicione a chave/valor da nova linguagem.

Se quiser, te mando um pacote inicial de templates (Zig, Go, Haskell, Java, Kotlin, Lua) já formatadinhos para colar na pasta.

